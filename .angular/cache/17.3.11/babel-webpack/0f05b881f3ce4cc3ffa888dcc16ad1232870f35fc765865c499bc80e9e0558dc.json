{"ast":null,"code":"import _asyncToGenerator from \"/Users/maxime/Desktop/paris-boat-club-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ModalPostPage } from '../modal-post/modal-post.page';\nimport * as Leaflet from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"src/providers/reddit-service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@ngx-translate/core\";\nexport let EscalesPage = /*#__PURE__*/(() => {\n  class EscalesPage {\n    constructor(formBuilder, alertController, redditService, router, modalController, loadingCtrl, loadingController) {\n      this.formBuilder = formBuilder;\n      this.alertController = alertController;\n      this.redditService = redditService;\n      this.router = router;\n      this.modalController = modalController;\n      this.loadingCtrl = loadingCtrl;\n      this.loadingController = loadingController;\n      this.location = false;\n      this.role = \"\";\n      this.table = \"public_locations_short\";\n      this.table2 = \"locations\";\n      this.status = \"\";\n      this.category = 2;\n      this.filter = \"\";\n      this.per_page = 100;\n      this.order_id = \"id\";\n      this.order_by = \"desc\";\n      this.page = 1;\n    }\n    ionViewWillEnter() {\n      this.initializeMap();\n    }\n    initializeMap() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.latposition = 48.8582599;\n        _this.lngposition = 2.2945006;\n        _this.map2 = Leaflet.map(\"map2\").setView([_this.latposition, _this.lngposition], 16);\n        Leaflet.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(_this.map2);\n        const loading = yield _this.loadingCtrl.create({\n          message: 'Chargement..',\n          spinner: 'bubbles'\n        });\n        _this.redditService.getDataAll(\"public_locations_escales\").subscribe(data => {\n          _this.posts = data.locations;\n          _this.posts.forEach(value => {});\n          _this.loadPoint();\n        });\n      })();\n    }\n    loadPoint() {\n      this.posts.forEach(value => {\n        console.log(value);\n        let item = value;\n        this.addmarker2(item);\n        console.log(\"foreatch\");\n      });\n    }\n    addmarker(item) {\n      console.log(item);\n      var startIcon = Leaflet.icon({\n        iconUrl: './assets/icon/marker-icon.png',\n        iconAnchor: [2, 32]\n      });\n      const markPosition = Leaflet.marker([item.lat, item.lng], {\n        icon: startIcon\n      });\n      // markPoint.bindPopup('<p>'+item.firstname+\" \"+item.lastname+'</p>');\n      this.map2.addLayer(markPosition);\n      this.map2.setView([this.latposition, this.lngposition], 15);\n    }\n    addmarker2(value) {\n      var startIcon = Leaflet.icon({\n        iconUrl: './assets/icon/escale.png',\n        iconAnchor: [2, 10]\n      });\n      console.log(value);\n      const markPoint = Leaflet.marker([value.lat, value.lng], {\n        icon: startIcon\n      });\n      this.map2.addLayer(markPoint);\n      markPoint.on(\"click\", e => {\n        console.log(e);\n        console.log(value.id);\n        this.idetail = value.id;\n        this.edit(value.id);\n      });\n    }\n    edit(item) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const modal = yield _this2.modalController.create({\n          component: ModalPostPage,\n          componentProps: {\n            \"paramID\": item\n          }\n        });\n        modal.onDidDismiss().then(modelData => {\n          if (modelData !== null) {\n            _this2.modelData = modelData.data;\n            console.log('Modal Data : ' + modelData.data);\n            // this.getdata(); \n          }\n        });\n        return yield modal.present();\n      })();\n    }\n    getdataByid() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        console.log(\"detail event\");\n        _this3.redditService.getByid(_this3.table, _this3.eventid).subscribe(data => {\n          _this3.postsevents = data.users;\n          console.log(_this3.postsevents);\n          _this3.techs = data.techs;\n          _this3.appointement = [data.appointement];\n          _this3.lngevnt = _this3.techs.lenght;\n        });\n      })();\n    }\n    goList() {\n      this.router.navigateByUrl('/tabs/posts');\n    }\n    static #_ = this.ɵfac = function EscalesPage_Factory(t) {\n      return new (t || EscalesPage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AlertController), i0.ɵɵdirectiveInject(i3.RedditService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i2.ModalController), i0.ɵɵdirectiveInject(i2.LoadingController), i0.ɵɵdirectiveInject(i2.LoadingController));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EscalesPage,\n      selectors: [[\"app-escales\"]],\n      decls: 48,\n      vars: 27,\n      consts: [[\"color\", \"secondary\"], [\"slot\", \"start\"], [\"responsive-sm\", \"\"], [\"sizeLg\", \"3\", \"sizeMd\", \"3\", \"sizeXs\", \"0\"], [\"sizeLg\", \"6\", \"sizeMd\", \"6\", \"sizeXs\", \"12\", 2, \"border\", \"2px\", \"border-width\", \"2px\", \"text-align\", \"center\"], [\"ion-button\", \"\", \"outline\", \"\", \"item-end\", \"\", \"small\", \"\", 1, \"custmodal\", 2, \"max-width\", \"500px\"], [2, \"padding-left\", \"10%\", \"padding-right\", \"10%\", \"text-align\", \"center\"], [\"src\", i0.ɵɵtrustConstantResourceUrl`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3486.9403088645954!2d2.2805353!3d48.8494202!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e6717b487dab81%3A0xe9be0a2bc165f919!2sParis%20Boat%20Club%20-%20Escale%20de%20Beaugrenelle!5e1!3m2!1sfr!2sfr!4v1727254928203!5m2!1sfr!2sfr`, \"width\", \"400\", \"height\", \"300\", \"allowfullscreen\", \"\", \"loading\", \"lazy\", \"referrerpolicy\", \"no-referrer-when-downgrade\", 2, \"border\", \"0\"], [\"src\", i0.ɵɵtrustConstantResourceUrl`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3718.6108857347845!2d2.3322132!3d48.860082899999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66f682ee5e3df%3A0x1ba88bea41a09a01!2sParis%20Boat%20Club!5e1!3m2!1sfr!2sfr!4v1727255673563!5m2!1sfr!2sfr`, \"width\", \"400\", \"height\", \"300\", \"allowfullscreen\", \"\", \"loading\", \"lazy\", \"referrerpolicy\", \"no-referrer-when-downgrade\", 2, \"border\", \"0\"], [\"src\", i0.ɵɵtrustConstantResourceUrl`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3719.4466811321026!2d2.3618949!3d48.848832099999996!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e671307cbb80fb%3A0x74bcd331923d9066!2sParis%20Boat%20Club%20-%20Escale%20Henri%20IV!5e1!3m2!1sfr!2sfr!4v1727255736441!5m2!1sfr!2sfr`, \"width\", \"400\", \"height\", \"300\", \"allowfullscreen\", \"\", \"loading\", \"lazy\", \"referrerpolicy\", \"no-referrer-when-downgrade\", 2, \"border\", \"0\"], [\"id\", \"map2\"]],\n      template: function EscalesPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-buttons\", 1);\n          i0.ɵɵelement(3, \"ion-menu-button\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"ion-title\");\n          i0.ɵɵtext(5, \"ParisBoatClub\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(6, \"ion-content\", 2)(7, \"ion-grid\")(8, \"ion-row\");\n          i0.ɵɵelement(9, \"ion-col\", 3);\n          i0.ɵɵelementStart(10, \"ion-col\", 4)(11, \"h1\");\n          i0.ɵɵtext(12);\n          i0.ɵɵpipe(13, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"ion-card\", 5)(15, \"h1\");\n          i0.ɵɵtext(16);\n          i0.ɵɵpipe(17, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"p\", 6);\n          i0.ɵɵtext(19);\n          i0.ɵɵpipe(20, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(21, \"iframe\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"ion-card\", 5)(23, \"h1\");\n          i0.ɵɵtext(24);\n          i0.ɵɵpipe(25, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"p\", 6);\n          i0.ɵɵtext(27);\n          i0.ɵɵpipe(28, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(29, \"iframe\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"ion-card\", 5)(31, \"h1\");\n          i0.ɵɵtext(32);\n          i0.ɵɵpipe(33, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"p\", 6);\n          i0.ɵɵtext(35);\n          i0.ɵɵpipe(36, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"iframe\", 9);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(38, \"ion-row\");\n          i0.ɵɵelement(39, \"ion-col\", 3);\n          i0.ɵɵelementStart(40, \"ion-col\", 4)(41, \"h1\");\n          i0.ɵɵtext(42);\n          i0.ɵɵpipe(43, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"p\");\n          i0.ɵɵtext(45);\n          i0.ɵɵpipe(46, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(47, \"div\", 10);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(13, 9, \"ourstairs\"), \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(17, 11, \"escale_1_title\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(20, 13, \"escale_1_content\"), \" \");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(25, 15, \"escale_2_title\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(28, 17, \"escale_2_content\"), \" \");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(33, 19, \"escale_3_title\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(36, 21, \"escale_3_content\"), \" \");\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(43, 23, \"otherstops\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(46, 25, \"intro_escales\"), \" \");\n        }\n      },\n      dependencies: [i2.IonButtons, i2.IonCard, i2.IonCol, i2.IonContent, i2.IonGrid, i2.IonHeader, i2.IonMenuButton, i2.IonRow, i2.IonTitle, i2.IonToolbar, i5.TranslatePipe],\n      styles: [\"h1[_ngcontent-%COMP%]{color:#0e4173}p[_ngcontent-%COMP%]{text-align:left;color:#0e4173}#map2[_ngcontent-%COMP%]{height:60vh}\"]\n    });\n  }\n  return EscalesPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}